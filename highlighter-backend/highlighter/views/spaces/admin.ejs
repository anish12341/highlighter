<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<style>
body {
  font-family: Arial;
  font-size: 17px;
  padding: 8px;
}

* {
  box-sizing: border-box;
}

.row {
  display: -ms-flexbox; /* IE10 */
  display: flex;
  -ms-flex-wrap: wrap; /* IE10 */
  flex-wrap: wrap;
  margin: 0 -16px;
}

.col-25 {
  -ms-flex: 25%; /* IE10 */
  flex: 25%;
}

.col-50 {
  -ms-flex: 50%; /* IE10 */
  flex: 50%;
}

.col-75 {
  -ms-flex: 75%; /* IE10 */
  flex: 75%;
}

.col-25,
.col-50,
.col-75 {
  padding: 0 16px;
}

.container {
  background-color: #f2f2f2;
  padding: 5px 20px 15px 20px;
  border: 1px solid lightgrey;
  border-radius: 3px;
}

input {
  width: 100%;
  margin-bottom: 20px;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 3px;
}

label {
  margin-bottom: 10px;
  display: block;
}

.icon-container {
  margin-bottom: 20px;
  padding: 7px 0;
  font-size: 24px;
}

.btn {
  background-color: #4CAF50;
  color: white;
  padding: 12px;
  margin: 10px 0;
  border: none;
  width: 100%;
  border-radius: 3px;
  cursor: pointer;
  font-size: 17px;
}

.btn:hover {
  background-color: #45a049;
}

a {
  color: #2196F3;
}

.table-users {
    margin: 30px;
}

hr {
  border: 1px solid lightgrey;
}

span.price {
  float: right;
  color: grey;
}

/* Responsive layout - when the screen is less than 800px wide, make the two columns stack on top of each other instead of next to each other (also change the direction - make the "cart" column go on top) */
@media (max-width: 800px) {
  .row {
    flex-direction: column-reverse;
  }
  .col-25 {
    margin-bottom: 20px;
  }
}
</style>
</head>
<body class="d-flex flex-column">
   <nav class="navbar navbar-inverse">
      <div class="container-fluid">
         <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
         </div>
         <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
               <li id="homeNav" class="active"><a href="#">Spaces: Admin</a></li>
            </ul>
         </div>
      </div>
   </nav>
   <main class="container-fluid flex-fill">
      <div class="max row content">
         <div class="col-sm-1 sidenav text-center" >
            <!--p><a href="https://www.linkedin.com/in/siddrameshwarmk/" target="_blank">LinkedIn</a></p>
            <p><a href="https://www.gitshowcase.com/siddrameshwar" target="_blank">GitShowCase</a></p>
            <p><a href="https://github.com/siddrameshwar" target="_blank">Github</a></p-->
         </div>
         <div class="col-sm-10 text-left">
            <div class="table-users">
               <table class="table table-bordered">
                  <thead class="thead-dark">
                     <tr>
                        <th scope="col">User ID</th>
                        <th scope="col">Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">IsPremium</th>
                        <th scope="col">Created On</th>
                        <th scope="col">Spaces Created</th>
                        <th scope="col">Upgrade-Downgrade</th>
                        <th scope="col">Delete User</th>
                     </tr>
                  </thead>
                  <tbody>
                     <% for(var i=0; i < users.length; i++) { %>
                     <tr>
                        <td><%= users[i].id %></td>
                        <td><%= users[i].name %></td>
                        <td><%= users[i].email %></td>
                        <td><%= users[i].isPremium %></td>
                        <td><%= users[i].createdAt %></td>
                        <td><%= users[i].spaces_created %></td>
                        <td>
                           <% if(users[i].isPremium) { %>
                           <form action="/spaces/<%=users[i].id%>" method="POST">
                              <input type="hidden" id="downgrade" name="upgrade" value="false">
                              <button type="submit" value="Downgrade" class="btn">Downgrade</button>
                           </form>
                           <% } else { %>
                           <form action="/spaces/<%=users[i].id%>" method="POST">
                              <input type="hidden" id="upgrade" name="upgrade" value="true">
                              <button type="submit" value="Upgrade" class="btn">Upgrade</button>
                           </form>
                           <% }%>
                        </td>
                        <td>
                           <form action="/spaces/<%=users[i].id%>?_method=DELETE" method="POST">
                              <button type="submit" value="Delete" class="btn">Delete</button>
                           </form>
                        </td>
                     </tr>
                     <% } %>
                  </tbody>
               </table>
            </div>
         </div>
         <div class="col-sm-1 sidenav">
            <!--div class="well">
               <p>ADS</p>
            </div>
            <div class="well">
               <p>ADS</p>
            </div-->
         </div>
      </div>
   </main>
   <div class="container-fluid text-center">
   </div>
   <footer class="container-fluid text-center">
      <p>Footer Text</p>
   </footer>
</body>
